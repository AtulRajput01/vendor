import{r as c,a as f,u as y,j as e}from"./index-BVLntUA-.js";import{a as m}from"./index-DTDyDBer.js";import{C as N,a as E}from"./CContainer-LIBSLkwT.js";import{C as S,a as v}from"./CRow-Cqaj2-K0.js";import{C as D,a as I}from"./CCardBody-BhP0jfyF.js";import{C as F}from"./CForm-CggMzn3e.js";import{a as o,C as l}from"./CFormInput-CCvN3GNj.js";import{C as b}from"./CFormSelect-Cs3-kqER.js";import{C as q}from"./CFormTextarea-B0Rsf7bw.js";const k=()=>{const[d,x]=c.useState([]),[t,p]=c.useState({species:"",extensionName:"",extensionDescription:"",extensionImage:null,price:"",shopId:"",role:"vendor"}),h=f(),{id:r}=h.state||{},u=y();c.useEffect(()=>{C(r)},[r]);const C=async s=>{try{const n=await m.get(`http://www.taxidermyvendor.hunt30.com/api/species/getSpecies/${s}`);x(n.data.data)}catch(n){console.error("Error in fetching species:",n)}},i=s=>{const{name:n,value:a}=s.target;p({...t,[n]:a})},j=s=>{p({...t,extensionImage:s.target.files[0]})},g=async s=>{s.preventDefault();const n=new FormData;n.append("specie",t.species),n.append("extensionName",t.extensionName),n.append("extensionDescription",t.extensionDescription),n.append("extensionImage",t.extensionImage),n.append("price",t.price),n.append("shopId",r),n.append("role",t.role);try{await m.post("http://www.taxidermyvendor.hunt30.com/api/Extension/addExtension",n,{headers:{"Content-Type":"multipart/form-data"}}),u("/Shops")}catch(a){console.error("Error adding extension:",a)}};return e.jsx(N,{style:{padding:"5rem"},children:e.jsx(S,{className:"justify-content-center",children:e.jsx(v,{md:"8",children:e.jsx(D,{children:e.jsx(I,{children:e.jsxs(F,{onSubmit:g,children:[e.jsx("h1",{style:{color:"#20c997"},children:"Extension Registration"}),e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{htmlFor:"species",style:{color:"chocolate",fontStyle:"inherit"},children:"Specie Name"}),e.jsxs(b,{id:"species",name:"species",value:t.species,onChange:i,required:!0,children:[e.jsx("option",{value:"",children:"Select species"}),d.map(s=>e.jsx("option",{value:s.speciesName,children:s.speciesName},s.id))]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{htmlFor:"extensionName",style:{color:"chocolate",fontStyle:"inherit"},children:"Extension Name"}),e.jsx(l,{type:"text",id:"extensionName",name:"extensionName",placeholder:"Enter extension name",value:t.extensionName,onChange:i,required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{htmlFor:"extensionDescription",style:{color:"chocolate",fontStyle:"inherit"},children:"Extension Description"}),e.jsx(q,{id:"extensionDescription",name:"extensionDescription",rows:"4",placeholder:"Enter extension description",value:t.extensionDescription,onChange:i,required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{htmlFor:"extensionImage",style:{color:"chocolate",fontStyle:"inherit"},children:"Extension Image"}),e.jsx(l,{type:"file",id:"extensionImage",name:"extensionImage",accept:"image/*",onChange:j,required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{htmlFor:"price",style:{color:"chocolate",fontStyle:"inherit"},children:"Price"}),e.jsx(l,{type:"number",id:"price",name:"price",placeholder:"Enter price",value:t.price,onChange:i,required:!0})]}),e.jsx(E,{type:"submit",color:"primary",children:"Add Extension"})]})})})})})})};export{k as default};
