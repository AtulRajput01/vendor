import{u as C,r as t,a as f,j as s}from"./index-BVLntUA-.js";import{l as g}from"./tlogo1-w0QlOMSf.js";import{C as j}from"./index.esm-OMrcyoBq.js";import{C as w,a as y}from"./CContainer-LIBSLkwT.js";import{C as d,a as m}from"./CRow-Cqaj2-K0.js";import{C as N}from"./CCardGroup-D-wsE5p4.js";import{C as b,a as k}from"./CCardBody-BhP0jfyF.js";import{C as v}from"./CForm-CggMzn3e.js";import{C as S,a as I}from"./CInputGroupText-B1LFPW2N.js";import{c as P}from"./cil-lock-locked-DmxpJbVL.js";import{C as R}from"./CFormInput-CCvN3GNj.js";const H=()=>{var i;const o=C(),[r,p]=t.useState(""),[E,a]=t.useState(""),[n,u]=t.useState(!1),[F,c]=t.useState(!1),x=(i=f().state)==null?void 0:i.token,h=async()=>{c(!0);try{const e=await fetch("http://www.taxidermyvendor.hunt30.com/api/auths/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:x,newPassword:r})}),l=await e.json();a(l.message),e.ok?u(!0):a(l.message||"Failed to reset password")}catch{a("Failed to reset password")}finally{c(!1)}};return t.useEffect(()=>{if(n){const e=setTimeout(()=>{o("/login")},3e3);return()=>clearTimeout(e)}},[n,o]),s.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:s.jsx(w,{className:"d-flex justify-content-center align-items-center min-vh-100",children:s.jsx(d,{className:"justify-content-center",children:s.jsx(m,{md:20,children:s.jsx(N,{className:"shadow-lg",children:s.jsx(b,{className:"p-4 bg-dark-gray image",style:{backgroundColor:"#FE3C00"},children:s.jsx(k,{children:s.jsxs(v,{children:[s.jsx("div",{className:"mb-4 text-center",children:s.jsx("img",{src:g,alt:"Logo",style:{maxWidth:"50%",height:"auto"}})}),s.jsx("h3",{className:"text-center mb-4 text-dark",children:"Reset Password"}),s.jsx("p",{className:"text-light text-center",children:"Reset your password"}),s.jsxs(S,{className:"mb-3",children:[s.jsx(I,{children:s.jsx(j,{icon:P})}),s.jsx(R,{type:"password",placeholder:"Enter new password",autoComplete:"password",value:r,onChange:e=>p(e.target.value),required:!0})]}),s.jsx(d,{className:"justify-content-center",children:s.jsx(m,{xs:12,className:"text-center",children:s.jsx(y,{style:{backgroundColor:"rgba(0, 0, 0, 0.8)",color:"white"},className:"px-4",onClick:h,children:"Reset Password"})})})]})})})})})})})})};export{H as default};
