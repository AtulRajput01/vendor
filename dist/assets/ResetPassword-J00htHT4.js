import{u as C,r as t,a as f,j as s}from"./index-BT5q1uEO.js";import{C as g}from"./index.esm-tvL4Yql9.js";import{C as j,a as w}from"./CContainer-Dpcs0q8E.js";import{C as d,a as m}from"./CRow-BGZlPfxe.js";import{C as y}from"./CCardGroup-B_OSy012.js";import{C as N,a as b}from"./CCardBody-DB9WFIGr.js";import{C as k}from"./CForm-C8kVxPKz.js";import{C as v,a as S}from"./CInputGroupText-Ka6VjolZ.js";import{c as I}from"./cil-lock-locked-DmxpJbVL.js";import{C as P}from"./CFormInput-Drvck11X.js";const R=""+new URL("logo-D2G0JN63.png",import.meta.url).href,z=()=>{var i;const o=C(),[r,p]=t.useState(""),[L,a]=t.useState(""),[n,u]=t.useState(!1),[T,c]=t.useState(!1),h=(i=f().state)==null?void 0:i.token,x=async()=>{c(!0);try{const e=await fetch("http://54.244.180.151:3002/api/auths/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:h,newPassword:r})}),l=await e.json();a(l.message),e.ok?u(!0):a(l.message||"Failed to reset password")}catch{a("Failed to reset password")}finally{c(!1)}};return t.useEffect(()=>{if(n){const e=setTimeout(()=>{o("/login")},3e3);return()=>clearTimeout(e)}},[n,o]),s.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:s.jsx(j,{className:"d-flex justify-content-center align-items-center min-vh-100",children:s.jsx(d,{className:"justify-content-center",children:s.jsx(m,{md:20,children:s.jsx(y,{className:"shadow-lg",children:s.jsx(N,{className:"p-4 bg-dark-gray",style:{backgroundColor:"rgba(0, 0, 0, 0.8)",color:"white"},children:s.jsx(b,{children:s.jsxs(k,{children:[s.jsx("div",{className:"mb-4 text-center",children:s.jsx("img",{src:R,alt:"Logo",style:{maxWidth:"50%",height:"auto"}})}),s.jsx("h3",{className:"text-center mb-4",children:"Reset Password"}),s.jsxs(v,{className:"mb-3",children:[s.jsx(S,{children:s.jsx(g,{icon:I})}),s.jsx(P,{type:"password",placeholder:"Enter new password",autoComplete:"password",value:r,onChange:e=>p(e.target.value),required:!0})]}),s.jsx(d,{className:"justify-content-center",children:s.jsx(m,{xs:12,className:"text-center",children:s.jsx(w,{color:"primary",className:"px-4",onClick:x,children:"Reset Password"})})})]})})})})})})})})};export{z as default};
