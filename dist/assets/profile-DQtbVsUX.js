import{r as t,j as e}from"./index-BVLntUA-.js";import{a as P}from"./index-DTDyDBer.js";import{C as o}from"./index.esm-OMrcyoBq.js";/* empty css                   */import{e as H}from"./DefaultLayout-B_GgKFtV.js";import{C as V,a as u}from"./CContainer-LIBSLkwT.js";import{C as l,a}from"./CRow-Cqaj2-K0.js";import{C as B,a as L}from"./CCardBody-BhP0jfyF.js";import{C as $}from"./CCardHeader-DfkL9Tx7.js";import{C as F}from"./CForm-CggMzn3e.js";import{a as d,C as m}from"./CFormInput-CCvN3GNj.js";import{C as b,a as i}from"./CInputGroupText-B1LFPW2N.js";import{C as G,a as O}from"./CModalBody-DRuZb03z.js";import{C as R}from"./CModalHeader-ByVj3V7d.js";import{C as D}from"./CModalFooter-C15hZfs4.js";import"./index.es-6gMk8n5g.js";import"./BillingInfo-b7LCQT_k.js";import"./cil-lock-locked-DmxpJbVL.js";import"./tlogo1-w0QlOMSf.js";var v=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M29.663,482.25l.087.087a24.847,24.847,0,0,0,17.612,7.342,25.178,25.178,0,0,0,8.1-1.345l142.006-48.172,272.5-272.5A88.832,88.832,0,0,0,344.334,42.039l-272.5,272.5L23.666,456.541A24.844,24.844,0,0,0,29.663,482.25Zm337.3-417.584a56.832,56.832,0,0,1,80.371,80.373L411.5,180.873,331.127,100.5ZM99.744,331.884,308.5,123.127,388.873,203.5,180.116,412.256,58.482,453.518Z' class='ci-primary'/>"],T=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M472.971,122.344,373.656,23.029A23.838,23.838,0,0,0,356.687,16H56A24.028,24.028,0,0,0,32,40V472a24.028,24.028,0,0,0,24,24H456a24.028,24.028,0,0,0,24-24V139.313A23.838,23.838,0,0,0,472.971,122.344ZM320,48v96H176V48ZM448,464H64V48h80V176H352V48h1.373L448,142.627Z' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M252,224a92,92,0,1,0,92,92A92.1,92.1,0,0,0,252,224Zm0,152a60,60,0,1,1,60-60A60.068,60.068,0,0,1,252,376Z' class='ci-primary'/>"],N=["512 512","<polygon fill='var(--ci-primary-color, currentColor)' points='348.071 141.302 260.308 229.065 172.545 141.302 149.917 163.929 237.681 251.692 149.917 339.456 172.545 362.083 260.308 274.32 348.071 362.083 370.699 339.456 282.935 251.692 370.699 163.929 348.071 141.302' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M425.706,86.294A240,240,0,0,0,86.294,425.706,240,240,0,0,0,425.706,86.294ZM256,464C141.309,464,48,370.691,48,256S141.309,48,256,48s208,93.309,208,208S370.691,464,256,464Z' class='ci-primary'/>"];const te=()=>{const[n,M]=t.useState({name:"",email:"",contactNumber:""}),[r,j]=t.useState({name:!1,email:!1,contactNumber:!1}),[S,h]=t.useState(!1),[p,E]=t.useState({oldPassword:"",newPassword:""}),x=localStorage.getItem("vendorID");t.useEffect(()=>{A(x)},[x]);const A=async s=>{const c=await P.get(`http://54.244.180.151:3002/api/vendor/profile/${s}`);M(c.data.data)},f=s=>{const{name:c,value:g}=s.target;M({...n,[c]:g})},w=s=>{j({...r,[s]:!0})},y=s=>{j({...r,[s]:!1})},Z=async()=>{await P.put(`http://54.244.180.151:3002/api/vendor/profile/${x}`,n).then(s=>{alert("Profile saved successfully!"),j({name:!1,email:!1,contactNumber:!1})}).catch(s=>{console.error("Error saving profile data:",s)})},k=s=>{const{name:c,value:g}=s.target;E({...p,[c]:g})},I=async()=>{await P.put(`http://54.244.180.151:3002/api/vendor/changePassword/${x}`,p).then(s=>{alert("Password changed successfully!"),h(!1),E({oldPassword:"",newPassword:""})}).catch(s=>{console.error("Error changing password:",s)})},C=Object.values(r).includes(!0);return e.jsx(V,{className:"profile-page mt-5",children:e.jsxs(l,{children:[e.jsxs(a,{md:"3",className:"text-center",children:[e.jsx("div",{className:"profile-img-container mb-3",children:e.jsx("img",{src:H,className:"profile-img",alt:"Profile"})}),e.jsx("h5",{children:"Hello,"}),e.jsx("h3",{children:n.name}),e.jsx(u,{color:"secondary",className:"change-password-btn",onClick:()=>h(!0),children:"Change Password"})]}),e.jsxs(a,{md:"9",children:[e.jsxs(B,{className:"p-3",style:{maxWidth:"600px",margin:"0 auto"},children:[e.jsx($,{className:"bg-primary text-white",children:e.jsx("h5",{children:"Personal Information"})}),e.jsx(L,{children:e.jsxs(F,{children:[e.jsx(l,{className:"mb-3",children:e.jsxs(a,{md:"6",children:[e.jsx(d,{htmlFor:"name",children:"Name"}),e.jsxs(b,{children:[e.jsx(m,{type:"text",id:"name",name:"name",value:n.name,onChange:f,placeholder:"Enter your name",disabled:!r.name,style:{height:"38px"}}),!r.name&&!C&&e.jsx(i,{children:e.jsx(o,{icon:v,onClick:()=>w("name"),style:{cursor:"pointer"}})}),r.name&&e.jsx(i,{children:e.jsx(o,{icon:N,onClick:()=>y("name"),style:{cursor:"pointer"}})})]})]})}),e.jsx(l,{className:"mb-3",children:e.jsxs(a,{md:"6",children:[e.jsx(d,{htmlFor:"email",children:"Email Address"}),e.jsxs(b,{children:[e.jsx(m,{type:"email",id:"email",name:"email",value:n.email,onChange:f,placeholder:"Enter your email",disabled:!r.email,style:{height:"38px"}}),!r.email&&!C&&e.jsx(i,{children:e.jsx(o,{icon:v,onClick:()=>w("email"),style:{cursor:"pointer"}})}),r.email&&e.jsx(i,{children:e.jsx(o,{icon:N,onClick:()=>y("email"),style:{cursor:"pointer"}})})]})]})}),e.jsx(l,{className:"mb-3",children:e.jsxs(a,{md:"6",children:[e.jsx(d,{htmlFor:"contactNumber",children:"Mobile Number"}),e.jsxs(b,{children:[e.jsx(m,{type:"text",id:"contactNumber",name:"contactNumber",value:n.contactNumber,onChange:f,placeholder:"Enter your mobile number",disabled:!r.contactNumber,style:{height:"38px"}}),!r.contactNumber&&!C&&e.jsx(i,{children:e.jsx(o,{icon:v,onClick:()=>w("contactNumber"),style:{cursor:"pointer"}})}),r.contactNumber&&e.jsx(i,{children:e.jsx(o,{icon:N,onClick:()=>y("contactNumber"),style:{cursor:"pointer"}})})]})]})}),C&&e.jsx(l,{className:"mt-3",children:e.jsx(a,{children:e.jsxs(u,{color:"primary",onClick:Z,children:[e.jsx(o,{icon:T,className:"me-2"}),"Save"]})})})]})})]}),e.jsxs(G,{visible:S,onClose:()=>h(!1),children:[e.jsx(R,{children:"Change Password"}),e.jsx(O,{children:e.jsxs(F,{children:[e.jsx(l,{className:"mb-3",children:e.jsxs(a,{md:"12",children:[e.jsx(d,{htmlFor:"oldPassword",children:"Old Password"}),e.jsx(m,{type:"password",id:"oldPassword",name:"oldPassword",value:p.oldPassword,onChange:k,placeholder:"Enter your old password"})]})}),e.jsx(l,{className:"mb-3",children:e.jsxs(a,{md:"12",children:[e.jsx(d,{htmlFor:"newPassword",children:"New Password"}),e.jsx(m,{type:"password",id:"newPassword",name:"newPassword",value:p.newPassword,onChange:k,placeholder:"Enter your new password"})]})})]})}),e.jsxs(D,{children:[e.jsx(u,{color:"primary",onClick:I,children:"Change Password"}),e.jsx(u,{color:"secondary",onClick:()=>h(!1),children:"Cancel"})]})]})]})]})})};export{te as default};
